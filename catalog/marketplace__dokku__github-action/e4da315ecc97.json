{
  "action_id": "marketplace/dokku/github-action",
  "version_id": "e4da315ecc97",
  "source": {
    "type": "marketplace",
    "action_yml_path": "blueprints/marketplace/dokku/github-action/action.yml",
    "origin": "github.com/dokku/github-action",
    "publisher": "dokku",
    "verified": false,
    "latest_release": {
      "tag_name": "v1.9.0",
      "name": "v1.9.0",
      "published_at": "2025-10-13T22:14:06Z",
      "html_url": "https://github.com/dokku/github-action/releases/tag/v1.9.0",
      "prerelease": false,
      "draft": false
    }
  },
  "definition": {
    "name": "Dokku",
    "description": "Official Github Action for deploying apps to a Dokku installation",
    "author": "Dokku",
    "inputs": [
      {
        "name": "branch",
        "required": false,
        "default": "master",
        "description": "The branch to deploy when pushing to Dokku (default: master)"
      },
      {
        "name": "ci_branch_name",
        "required": false,
        "default": "",
        "description": "The command to run for the action (default: detected from GITHUB_REF)"
      },
      {
        "name": "ci_commit",
        "required": false,
        "default": "",
        "description": "The commit sha that will be pushed (default: detected from GITHUB_SHA)"
      },
      {
        "name": "command",
        "required": false,
        "default": "deploy",
        "description": "The command to run for the action (default: deploy)"
      },
      {
        "name": "deploy_docker_image",
        "required": false,
        "default": "",
        "description": "A docker image to deploy via `git:from-image`"
      },
      {
        "name": "deploy_user_name",
        "required": false,
        "default": "",
        "description": "A username to use when deploying a docker image"
      },
      {
        "name": "deploy_user_email",
        "required": false,
        "default": "",
        "description": "The email to use when deploying a docker image"
      },
      {
        "name": "git_push_flags",
        "required": false,
        "default": "",
        "description": "A string containing a set of flags to set on push"
      },
      {
        "name": "git_remote_url",
        "required": true,
        "default": null,
        "description": "The dokku app's git repository url (in SSH format)"
      },
      {
        "name": "review_app_name",
        "required": false,
        "default": "",
        "description": "The name of the review app to create or destroy"
      },
      {
        "name": "ssh_host_key",
        "required": false,
        "default": "",
        "description": "The results of running `ssh-keyscan -t rsa $HOST`"
      },
      {
        "name": "ssh_private_key",
        "required": true,
        "default": null,
        "description": "A private SSH key that has push access to your Dokku instance"
      },
      {
        "name": "ssh_passphrase",
        "required": false,
        "default": "",
        "description": "Passphrase to use when interacting with an SSH key that has a passphrase"
      },
      {
        "name": "trace",
        "required": false,
        "default": "",
        "description": "Allows users to debug what the action is performing by enabling shell trace mode"
      }
    ],
    "outputs": [],
    "runs": {
      "using": "docker",
      "image": "Dockerfile",
      "entrypoint": "/bin/dokku-deploy",
      "post-entrypoint": "/bin/dokku-unlock",
      "post-if": "cancelled()",
      "env": {
        "BRANCH": "${{ inputs.branch }}",
        "CI_BRANCH_NAME": "${{ inputs.ci_branch_name }}",
        "CI_COMMIT": "${{ inputs.ci_commit }}",
        "COMMAND": "${{ inputs.command }}",
        "DEPLOY_DOCKER_IMAGE": "${{ inputs.deploy_docker_image }}",
        "DEPLOY_USER_NAME": "${{ inputs.deploy_user_name }}",
        "DEPLOY_USER_EMAIL": "${{ inputs.deploy_user_email }}",
        "GIT_PUSH_FLAGS": "${{ inputs.git_push_flags }}",
        "GIT_REMOTE_URL": "${{ inputs.git_remote_url }}",
        "REVIEW_APP_NAME": "${{ inputs.review_app_name }}",
        "SSH_HOST_KEY": "${{ inputs.ssh_host_key }}",
        "SSH_PRIVATE_KEY": "${{ inputs.ssh_private_key }}",
        "SSH_PASSPHRASE": "${{ inputs.ssh_passphrase }}",
        "TRACE": "${{ inputs.trace }}"
      }
    }
  },
  "annotations": {
    "categories": [],
    "confidence": null,
    "evidence": []
  },
  "cache": {
    "source_hash": "e4da315ecc975d7afaa28ea484adb37835fb1a330cb29ff794bf32ef96a25dc5",
    "taxonomy_version": "0.0.1",
    "prompt_version": "v1",
    "generated_at": "2025-12-15T05:22:11.351976Z"
  }
}
