{
  "action_id": "marketplace/julia-actions/julia-compute-test-matrix",
  "version_id": "3b5af642522e",
  "source": {
    "type": "marketplace",
    "action_yml_path": "blueprints/marketplace/julia-actions/julia-compute-test-matrix/action.yml",
    "origin": "github.com/julia-actions/julia-compute-test-matrix",
    "publisher": "julia-actions",
    "verified": false
  },
  "definition": {
    "name": "Julia compute test matrix",
    "description": "Compute a test matrix",
    "author": "",
    "inputs": [
      {
        "name": "include-release-versions",
        "required": false,
        "default": true,
        "description": ""
      },
      {
        "name": "include-lts-versions",
        "required": false,
        "default": true,
        "description": ""
      },
      {
        "name": "include-all-compatible-minor-versions",
        "required": false,
        "default": false,
        "description": ""
      },
      {
        "name": "include-smallest-compatible-minor-versions",
        "required": false,
        "default": true,
        "description": ""
      },
      {
        "name": "include-rc-versions",
        "required": false,
        "default": false,
        "description": ""
      },
      {
        "name": "include-beta-versions",
        "required": false,
        "default": false,
        "description": ""
      },
      {
        "name": "include-alpha-versions",
        "required": false,
        "default": false,
        "description": ""
      },
      {
        "name": "include-nightly-versions",
        "required": false,
        "default": false,
        "description": ""
      },
      {
        "name": "include-windows-x64",
        "required": false,
        "default": true,
        "description": ""
      },
      {
        "name": "include-windows-x86",
        "required": false,
        "default": true,
        "description": ""
      },
      {
        "name": "include-linux-x64",
        "required": false,
        "default": true,
        "description": ""
      },
      {
        "name": "include-linux-x86",
        "required": false,
        "default": true,
        "description": ""
      },
      {
        "name": "include-macos-x64",
        "required": false,
        "default": true,
        "description": ""
      },
      {
        "name": "include-macos-aarch64",
        "required": false,
        "default": true,
        "description": ""
      }
    ],
    "outputs": [
      {
        "name": "test-matrix",
        "description": ""
      }
    ],
    "runs": {
      "using": "composite",
      "steps": [
        {
          "name": "Compute Manifest hash",
          "id": "project-hash",
          "shell": "pwsh",
          "run": "$ourHash = Get-FileHash -LiteralPath \"$env:GITHUB_ACTION_PATH\\Manifest.toml\"\n\"MANIFEST_HASH=$($ourHash.Hash)\" | Out-File -FilePath $env:GITHUB_OUTPUT -Append\n"
        },
        {
          "name": "Check Julia version",
          "shell": "bash",
          "id": "julia-version",
          "run": "echo \"JULIA_VERSION=$(julia -v)\" >> $GITHUB_OUTPUT\n"
        },
        {
          "uses": "actions/cache@v4",
          "id": "cache-project",
          "with": {
            "path": "${{ runner.tool_cache }}/julia-get-compatible-juliaup-channels",
            "key": "julia-get-compatible-juliaup-channels-cache-${{ runner.os }}-${{ steps.julia-version.outputs.JULIA_VERSION }}-${{ steps.project-hash.outputs.MANIFEST_HASH }}"
          }
        },
        {
          "name": "Install and precompile",
          "if": "steps.cache-project.outputs.cache-hit != 'true'",
          "run": "julia -e 'import Pkg; Pkg.instantiate()'",
          "shell": "bash",
          "env": {
            "JULIA_PROJECT": "${{ github.action_path }}",
            "JULIA_DEPOT_PATH": "${{ runner.tool_cache }}/julia-get-compatible-juliaup-channels"
          }
        },
        {
          "uses": "actions/cache/save@v4",
          "if": "steps.cache-project.outputs.cache-hit != 'true'",
          "with": {
            "path": "${{ runner.tool_cache }}/julia-get-compatible-juliaup-channels",
            "key": "julia-get-compatible-juliaup-channels-cache-${{ runner.os }}-${{ steps.julia-version.outputs.JULIA_VERSION }}-${{ steps.project-hash.outputs.MANIFEST_HASH }}"
          }
        },
        {
          "name": "Compute compatible Juliaup channels",
          "id": "compute-test-matrix",
          "run": "julia ${{ github.action_path }}/main.jl",
          "shell": "pwsh",
          "env": {
            "JULIA_PROJECT": "${{ github.action_path }}",
            "JULIA_DEPOT_PATH": "${{ runner.tool_cache }}/julia-get-compatible-juliaup-channels",
            "INCLUDE_RELEASE_VERSIONS": "${{ inputs.include-release-versions }}",
            "INCLUDE_LTS_VERSIONS": "${{ inputs.include-lts-versions }}",
            "INCLUDE_ALL_COMPATIBLE_MINOR_VERSIONS": "${{ inputs.include-all-compatible-minor-versions }}",
            "INCLUDE_SMALLEST_COMPATIBLE_MINOR_VERSIONS": "${{ inputs.include-smallest-compatible-minor-versions }}",
            "INCLUDE_RC_VERSIONS": "${{ inputs.include-rc-versions }}",
            "INCLUDE_BETA_VERSIONS": "${{ inputs.include-beta-versions }}",
            "INCLUDE_ALPHA_VERSIONS": "${{ inputs.include-alpha-versions }}",
            "INCLUDE_NIGHTLY_VERSIONS": "${{ inputs.include-nightly-versions }}",
            "INCLUDE_WINDOWS_X64": "${{ inputs.include-windows-x64 }}",
            "INCLUDE_WINDOWS_X86": "${{ inputs.include-windows-x86 }}",
            "INCLUDE_LINUX_X64": "${{ inputs.include-linux-x64 }}",
            "INCLUDE_LINUX_X86": "${{ inputs.include-linux-x86 }}",
            "INCLUDE_MACOS_X64": "${{ inputs.include-macos-x64 }}",
            "INCLUDE_MACOS_AARCH64": "${{ inputs.include-macos-aarch64 }}"
          }
        }
      ]
    }
  },
  "annotations": {
    "categories": [
      "Testing",
      "Dependency management"
    ],
    "confidence": "high",
    "evidence": [
      {
        "type": "llm_categorization",
        "model": "gpt-4o-mini",
        "primary_category": "Testing",
        "reasoning": "The action is designed to compute a test matrix, which is primarily related to testing various configurations and dependencies. Additionally, it manages versions which relates to dependency management.",
        "tags": [
          "test matrix",
          "Julia",
          "CI",
          "testing",
          "dependency management"
        ]
      }
    ]
  },
  "cache": {
    "source_hash": "3b5af642522e5766da43848f340c79ae9c571b2fea0bd117ebbddde4988b85ca",
    "taxonomy_version": "0.0.1",
    "prompt_version": "v1",
    "generated_at": "2025-12-15T05:22:26.097268Z"
  }
}
