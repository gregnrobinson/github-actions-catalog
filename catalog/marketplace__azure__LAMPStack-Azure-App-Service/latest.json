{
  "action_id": "marketplace/azure/LAMPStack-Azure-App-Service",
  "version_id": "af9df99e21fb",
  "source": {
    "type": "marketplace",
    "action_yml_path": "blueprints/marketplace/azure/LAMPStack-Azure-App-Service/action.yml",
    "origin": "github.com/azure/LAMPStack-Azure-App-Service",
    "publisher": "azure",
    "verified": true
  },
  "definition": {
    "name": "Deploy LAMP stack on Azure App service - Quickstart Template",
    "description": "This action helps deploy LAMP stack to Azure App service",
    "author": "",
    "inputs": [
      {
        "name": "client-id",
        "required": true,
        "default": null,
        "description": "Client id to login to azure"
      },
      {
        "name": "tenant-id",
        "required": true,
        "default": null,
        "description": "Tenant id to login to azure"
      },
      {
        "name": "subscription-id",
        "required": true,
        "default": null,
        "description": "Subscription id to be used with your az login"
      },
      {
        "name": "resource-group-name",
        "required": true,
        "default": null,
        "description": "Resource group to deploy your resources to"
      },
      {
        "name": "admin-username",
        "required": true,
        "default": null,
        "description": "Admin username to login to app"
      },
      {
        "name": "admin-password",
        "required": true,
        "default": null,
        "description": "Admin password to login to app and mySql"
      }
    ],
    "outputs": [],
    "runs": {
      "using": "composite",
      "steps": [
        {
          "name": "Checkout master",
          "uses": "actions/checkout@v3"
        },
        {
          "name": "az cli login",
          "uses": "azure/login@v1",
          "with": {
            "client-id": "${{ inputs.client-id }}",
            "tenant-id": "${{ inputs.tenant-id }}",
            "subscription-id": "${{ inputs.subscription-id }}",
            "enable-AzPSSession": true
          }
        },
        {
          "name": "Az deploy - LAMP App",
          "uses": "azure/arm-deploy@v1",
          "with": {
            "subscriptionId": "${{ inputs.subscription-id }}",
            "resourceGroupName": "${{ inputs.resource-group-name }}",
            "template": "https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/demos/lamp-app/azuredeploy.json",
            "parameters": "https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/demos/lamp-app/azuredeploy.parameters.json authenticationType=password mySqlPassword=${{ inputs.admin-password }} storageAccountNamePrefix=lampappsa dnsLabelPrefix=dnslabelvm vmSize=Standard_D2as_v4 adminUsername=${{ inputs.admin-username }} adminPasswordOrKey=${{inputs.admin-password}}",
            "failOnStdErr": false
          }
        },
        {
          "name": "Fetch deployment record - Run Azure PowerShell inline script",
          "uses": "azure/powershell@v1",
          "with": {
            "inlineScript": "Get-AzResourceGroupDeploymentOperation -ResourceGroupName ${{ inputs.resource-group-name }} -DeploymentName \"azuredeploy\"\n",
            "azPSVersion": "latest"
          }
        }
      ]
    }
  },
  "annotations": {
    "categories": [
      "Deployment",
      "Authentication",
      "Infrastructure"
    ],
    "confidence": "high",
    "evidence": [
      {
        "type": "llm_categorization",
        "model": "gpt-4o-mini",
        "primary_category": "Deployment",
        "reasoning": "The action is primarily focused on deploying a LAMP stack to Azure App Service, which categorizes it under Deployment. It also requires authentication details to log in to Azure, placing it in the Authentication and Infrastructure categories as well.",
        "tags": [
          "Azure",
          "Deployment",
          "LAMP",
          "App Service",
          "Infrastructure"
        ]
      }
    ]
  },
  "cache": {
    "source_hash": "af9df99e21fb8e6a7a1c2a46ee222d8aa5bff725979ade8ff7f7ad8b6d64031e",
    "taxonomy_version": "0.0.1",
    "prompt_version": "v1",
    "generated_at": "2025-12-14T22:40:51.571235Z"
  }
}
