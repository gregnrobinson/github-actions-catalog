{
  "action_id": "marketplace/appleboy/scp-action",
  "version_id": "bfd5c3374d9f",
  "source": {
    "type": "marketplace",
    "action_yml_path": "blueprints/marketplace/appleboy/scp-action/action.yml",
    "origin": "github.com/appleboy/scp-action",
    "publisher": "appleboy",
    "verified": false,
    "latest_release": {
      "tag_name": "v1.0.0",
      "name": "v1.0.0",
      "published_at": "2025-04-27T04:42:28Z",
      "html_url": "https://github.com/appleboy/scp-action/releases/tag/v1.0.0",
      "prerelease": false,
      "draft": false
    }
  },
  "definition": {
    "name": "SCP Command to Transfer Files",
    "description": "Easily transfer files and folders using the SCP command in Linux.",
    "author": "Bo-Yi Wu",
    "inputs": [
      {
        "name": "host",
        "required": false,
        "default": null,
        "description": "Remote host address for SCP (e.g., example.com or 192.168.1.1)."
      },
      {
        "name": "port",
        "required": false,
        "default": "22",
        "description": "Remote SSH port for SCP. Default: 22."
      },
      {
        "name": "username",
        "required": false,
        "default": null,
        "description": "Username for SSH authentication."
      },
      {
        "name": "password",
        "required": false,
        "default": null,
        "description": "Password for SSH authentication (not recommended; use SSH keys if possible)."
      },
      {
        "name": "protocol",
        "required": false,
        "default": "tcp",
        "description": "IP protocol to use. Valid values: 'tcp', 'tcp4', or 'tcp6'. Default: tcp."
      },
      {
        "name": "timeout",
        "required": false,
        "default": "30s",
        "description": "Timeout for establishing SSH connection to the remote host. Default: 30s."
      },
      {
        "name": "command_timeout",
        "required": false,
        "default": "10m",
        "description": "Timeout for the SCP command execution. Default: 10m."
      },
      {
        "name": "key",
        "required": false,
        "default": null,
        "description": "Content of the SSH private key (e.g., the raw content of ~/.ssh/id_rsa)."
      },
      {
        "name": "key_path",
        "required": false,
        "default": null,
        "description": "Path to the SSH private key file."
      },
      {
        "name": "passphrase",
        "required": false,
        "default": null,
        "description": "Passphrase for the SSH private key, if required."
      },
      {
        "name": "fingerprint",
        "required": false,
        "default": null,
        "description": "SHA256 fingerprint of the host's public key. If not set, host key verification is skipped (not recommended for production)."
      },
      {
        "name": "use_insecure_cipher",
        "required": false,
        "default": null,
        "description": "Enable additional, less secure ciphers for compatibility. Not recommended unless required."
      },
      {
        "name": "target",
        "required": false,
        "default": null,
        "description": "Target directory path on the remote server. Must be a directory."
      },
      {
        "name": "source",
        "required": false,
        "default": null,
        "description": "List of files or directories to transfer (local paths)."
      },
      {
        "name": "rm",
        "required": false,
        "default": null,
        "description": "Remove the target directory on the server before uploading new data."
      },
      {
        "name": "debug",
        "required": false,
        "default": null,
        "description": "Enable debug messages for troubleshooting."
      },
      {
        "name": "strip_components",
        "required": false,
        "default": null,
        "description": "Remove the specified number of leading path elements when extracting files."
      },
      {
        "name": "overwrite",
        "required": false,
        "default": null,
        "description": "Use the --overwrite flag with tar to overwrite existing files."
      },
      {
        "name": "tar_dereference",
        "required": false,
        "default": null,
        "description": "Use the --dereference flag with tar to follow symlinks."
      },
      {
        "name": "tar_tmp_path",
        "required": false,
        "default": null,
        "description": "Temporary path for the tar file on the destination host."
      },
      {
        "name": "tar_exec",
        "required": false,
        "default": "tar",
        "description": "Path to the tar executable on the destination host. Default: tar."
      },
      {
        "name": "proxy_host",
        "required": false,
        "default": null,
        "description": "Remote host address for SSH proxy."
      },
      {
        "name": "proxy_port",
        "required": false,
        "default": "22",
        "description": "SSH proxy port. Default: 22."
      },
      {
        "name": "proxy_username",
        "required": false,
        "default": null,
        "description": "Username for SSH proxy authentication."
      },
      {
        "name": "proxy_password",
        "required": false,
        "default": null,
        "description": "Password for SSH proxy authentication."
      },
      {
        "name": "proxy_passphrase",
        "required": false,
        "default": null,
        "description": "Passphrase for the SSH proxy private key, if required."
      },
      {
        "name": "proxy_timeout",
        "required": false,
        "default": "30s",
        "description": "Timeout for establishing SSH connection to the proxy host. Default: 30s."
      },
      {
        "name": "proxy_key",
        "required": false,
        "default": null,
        "description": "Content of the SSH proxy private key (e.g., the raw content of ~/.ssh/id_rsa)."
      },
      {
        "name": "proxy_key_path",
        "required": false,
        "default": null,
        "description": "Path to the SSH proxy private key file."
      },
      {
        "name": "proxy_fingerprint",
        "required": false,
        "default": null,
        "description": "SHA256 fingerprint of the proxy host's public key. If not set, host key verification is skipped (not recommended for production)."
      },
      {
        "name": "proxy_use_insecure_cipher",
        "required": false,
        "default": null,
        "description": "Enable additional, less secure ciphers for the proxy connection. Not recommended unless required."
      },
      {
        "name": "curl_insecure",
        "required": false,
        "default": "false",
        "description": "When true, uses the --insecure option with curl for insecure downloads."
      },
      {
        "name": "capture_stdout",
        "required": false,
        "default": "false",
        "description": "When true, captures and returns standard output from the commands as action output."
      },
      {
        "name": "version",
        "required": false,
        "default": null,
        "description": "The version of drone-scp to use.\n"
      }
    ],
    "outputs": [
      {
        "name": "stdout",
        "description": "Standard output of the executed commands when capture_stdout is enabled."
      }
    ],
    "runs": {
      "using": "composite",
      "steps": [
        {
          "name": "Set GitHub Path",
          "run": "echo \"$GITHUB_ACTION_PATH\" >> $GITHUB_PATH",
          "shell": "bash",
          "env": {
            "GITHUB_ACTION_PATH": "${{ github.action_path }}"
          }
        },
        {
          "id": "entrypoint",
          "name": "Run entrypoint.sh",
          "run": "entrypoint.sh",
          "shell": "bash",
          "env": {
            "GITHUB_ACTION_PATH": "${{ github.action_path }}",
            "INPUT_HOST": "${{ inputs.host }}",
            "INPUT_PORT": "${{ inputs.port }}",
            "INPUT_PROTOCOL": "${{ inputs.protocol }}",
            "INPUT_USERNAME": "${{ inputs.username }}",
            "INPUT_PASSWORD": "${{ inputs.password }}",
            "INPUT_PASSPHRASE": "${{ inputs.passphrase }}",
            "INPUT_KEY": "${{ inputs.key }}",
            "INPUT_KEY_PATH": "${{ inputs.key_path }}",
            "INPUT_FINGERPRINT": "${{ inputs.fingerprint }}",
            "INPUT_PROXY_HOST": "${{ inputs.proxy_host }}",
            "INPUT_PROXY_PORT": "${{ inputs.proxy_port }}",
            "INPUT_PROXY_USERNAME": "${{ inputs.proxy_username }}",
            "INPUT_PROXY_PASSWORD": "${{ inputs.proxy_password }}",
            "INPUT_PROXY_PASSPHRASE": "${{ inputs.proxy_passphrase }}",
            "INPUT_PROXY_KEY": "${{ inputs.proxy_key }}",
            "INPUT_PROXY_KEY_PATH": "${{ inputs.proxy_key_path }}",
            "INPUT_PROXY_FINGERPRINT": "${{ inputs.proxy_fingerprint }}",
            "INPUT_USE_INSECURE_CIPHER": "${{ inputs.use_insecure_cipher }}",
            "INPUT_CIPHER": "${{ inputs.cipher }}",
            "INPUT_PROXY_USE_INSECURE_CIPHER": "${{ inputs.proxy_use_insecure_cipher }}",
            "INPUT_PROXY_CIPHER": "${{ inputs.proxy_cipher }}",
            "INPUT_DEBUG": "${{ inputs.debug }}",
            "INPUT_TIMEOUT": "${{ inputs.timeout }}",
            "INPUT_COMMAND_TIMEOUT": "${{ inputs.command_timeout }}",
            "INPUT_TARGET": "${{ inputs.target }}",
            "INPUT_SOURCE": "${{ inputs.source }}",
            "INPUT_RM": "${{ inputs.rm }}",
            "INPUT_STRIP_COMPONENTS": "${{ inputs.strip_components }}",
            "INPUT_OVERWRITE": "${{ inputs.overwrite }}",
            "INPUT_TAR_DEREFERENCE": "${{ inputs.tar_dereference }}",
            "INPUT_TAR_TMP_PATH": "${{ inputs.tar_tmp_path }}",
            "INPUT_TAR_EXEC": "${{ inputs.tar_exec }}",
            "INPUT_PROXY_TIMEOUT": "${{ inputs.proxy_timeout }}",
            "INPUT_CAPTURE_STDOUT": "${{ inputs.capture_stdout }}",
            "INPUT_CURL_INSECURE": "${{ inputs.curl_insecure }}",
            "DRONE_SCP_VERSION": "${{ inputs.version }}"
          }
        }
      ]
    }
  },
  "annotations": {
    "categories": [
      "Deployment",
      "Infrastructure",
      "Communication"
    ],
    "confidence": "high",
    "evidence": [
      {
        "type": "llm_categorization",
        "model": "gpt-4o-mini",
        "primary_category": "Deployment",
        "reasoning": "The action is primarily focused on transferring files, which is a deployment task, and it involves communication with a remote server using SCP. It also relates to infrastructure as it interacts with remote hosts.",
        "tags": [
          "SCP",
          "file transfer",
          "deployment",
          "infrastructure",
          "Linux"
        ]
      }
    ]
  },
  "cache": {
    "source_hash": "bfd5c3374d9f2157228927a803d227926acae6874d62b30c104b97c368293324",
    "taxonomy_version": "0.0.1",
    "prompt_version": "v1",
    "generated_at": "2025-12-15T02:19:00.565901Z"
  }
}
