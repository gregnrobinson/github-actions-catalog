{
  "action_id": "marketplace/wlixcc/SFTP-Deploy-Action",
  "version_id": "641b8085d180",
  "source": {
    "type": "marketplace",
    "action_yml_path": "blueprints/marketplace/wlixcc/SFTP-Deploy-Action/action.yml",
    "origin": "github.com/wlixcc/SFTP-Deploy-Action",
    "publisher": "wlixcc",
    "verified": false
  },
  "definition": {
    "name": "SFTP Deploy",
    "description": "Deploy file to your server use sftp & ssh private key",
    "author": "",
    "inputs": [
      {
        "name": "username",
        "required": true,
        "default": null,
        "description": "username"
      },
      {
        "name": "server",
        "required": true,
        "default": null,
        "description": "your sftp server"
      },
      {
        "name": "port",
        "required": true,
        "default": "22",
        "description": "your sftp server port, default to 22"
      },
      {
        "name": "ssh_private_key",
        "required": true,
        "default": null,
        "description": "you can copy private_key from your *.pem file, keep format"
      },
      {
        "name": "local_path",
        "required": true,
        "default": "./*",
        "description": "will put all file under this path"
      },
      {
        "name": "remote_path",
        "required": true,
        "default": null,
        "description": "files will copy to under remote_path"
      },
      {
        "name": "sftp_only",
        "required": false,
        "default": false,
        "description": "connection via sftp protocol only"
      },
      {
        "name": "sftpArgs",
        "required": false,
        "default": null,
        "description": "sftp args"
      },
      {
        "name": "delete_remote_files",
        "required": false,
        "default": false,
        "description": "This operation will delete all files in the remote path before upload. Please be careful set this to true"
      },
      {
        "name": "password",
        "required": false,
        "default": null,
        "description": "SSH passsword\uff0cIf a password is set, the secret key pair is ignored"
      },
      {
        "name": "rsyncArgs",
        "required": false,
        "default": "",
        "description": "Additional arguments for the rsync command. You can use this parameter to customize the rsync behavior, such as excluding files or directories. Example: '--exclude=node_modules --exclude=.git --exclude=*.log'. If set, these arguments will be passed directly to the rsync command."
      },
      {
        "name": "ssh_passphrase",
        "required": false,
        "default": null,
        "description": "Passphrase for ssh encrypted private-key. If the private-key is not encrypted, this parameter is not required."
      }
    ],
    "outputs": [],
    "runs": {
      "using": "docker",
      "image": "Dockerfile",
      "args": [
        "${{ inputs.username }}",
        "${{ inputs.server }}",
        "${{ inputs.port }}",
        "${{ inputs.ssh_private_key }}",
        "${{ inputs.local_path }}",
        "${{ inputs.remote_path }}",
        "${{ inputs.sftp_only }}",
        "${{ inputs.sftpArgs }}",
        "${{ inputs.delete_remote_files }}",
        "${{ inputs.password }}",
        "${{ inputs.rsyncArgs }}",
        "${{ inputs.ssh_passphrase }}"
      ]
    }
  },
  "annotations": {
    "categories": [
      "Deployment",
      "Infrastructure"
    ],
    "confidence": "high",
    "evidence": [
      {
        "type": "llm_categorization",
        "model": "gpt-4o-mini",
        "primary_category": "Deployment",
        "reasoning": "The action is primarily focused on deploying files to a server using SFTP, which falls under the Deployment category. It also involves server interaction, categorizing it under Infrastructure.",
        "tags": [
          "SFTP",
          "Deployment",
          "SSH",
          "Infrastructure",
          "File Transfer"
        ]
      }
    ]
  },
  "cache": {
    "source_hash": "641b8085d18035d63fd8ae12f211039a3c29cc2185a0029956b7f3e9ff4541f8",
    "taxonomy_version": "0.0.1",
    "prompt_version": "v1",
    "generated_at": "2025-12-15T00:47:39.732313Z"
  }
}
