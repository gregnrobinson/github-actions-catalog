{
  "action_id": "marketplace/wangyoucao577/Publish-Docker-Github-Action",
  "version_id": "039e7c591feb",
  "source": {
    "type": "marketplace",
    "action_yml_path": "blueprints/marketplace/wangyoucao577/Publish-Docker-Github-Action/action.yml",
    "origin": "github.com/wangyoucao577/Publish-Docker-Github-Action",
    "publisher": "wangyoucao577",
    "verified": false
  },
  "definition": {
    "name": "Publish Docker",
    "description": "Uses the git branch as the docker tag and pushes the container",
    "author": "Lars Gohr",
    "inputs": [
      {
        "name": "name",
        "required": true,
        "default": null,
        "description": "The name of the image you would like to push"
      },
      {
        "name": "username",
        "required": true,
        "default": null,
        "description": "The login username for the registry"
      },
      {
        "name": "password",
        "required": true,
        "default": null,
        "description": "The login password for the registry"
      },
      {
        "name": "registry",
        "required": false,
        "default": null,
        "description": "Use registry for pushing to a custom registry"
      },
      {
        "name": "snapshot",
        "required": false,
        "default": null,
        "description": "Use snapshot to push an additional image"
      },
      {
        "name": "default_branch",
        "required": false,
        "default": null,
        "description": "Set the default branch of your repository (default: master)"
      },
      {
        "name": "dockerfile",
        "required": false,
        "default": null,
        "description": "Use dockerfile when you would like to explicitly build a Dockerfile"
      },
      {
        "name": "workdir",
        "required": false,
        "default": null,
        "description": "Use workdir when you would like to change the directory for building"
      },
      {
        "name": "context",
        "required": false,
        "default": null,
        "description": "Use context when you would like to change the Docker build context."
      },
      {
        "name": "buildargs",
        "required": false,
        "default": null,
        "description": "Use buildargs when you want to pass a list of environment variables as build-args"
      },
      {
        "name": "buildoptions",
        "required": false,
        "default": null,
        "description": "Use buildoptions when you want to configure options for building"
      },
      {
        "name": "cache",
        "required": false,
        "default": null,
        "description": "Use cache when you have big images, that you would only like to build partially"
      },
      {
        "name": "tags",
        "required": false,
        "default": null,
        "description": "Use tags when you want to bring your own tags (separated by comma)"
      },
      {
        "name": "tag_names",
        "required": false,
        "default": null,
        "description": "Use tag_names when you want to push tags/release by their git name"
      },
      {
        "name": "tag_semver",
        "required": false,
        "default": null,
        "description": "Push semver docker tags. e.g. image:1.2.3, image:1.2, image:1"
      },
      {
        "name": "no_push",
        "required": false,
        "default": null,
        "description": "Set no_push to true if you want to prevent the action from pushing to a registry (default: false)"
      },
      {
        "name": "platforms",
        "required": false,
        "default": null,
        "description": "Use platforms for building multi-arch images"
      }
    ],
    "outputs": [
      {
        "name": "tag",
        "description": "Is the tag, which was pushed"
      },
      {
        "name": "snapshot-tag",
        "description": "Is the tag that is generated by the snapshot-option and pushed"
      },
      {
        "name": "digest",
        "description": "Is the digest of the image, which was pushed"
      }
    ],
    "runs": {
      "using": "composite",
      "steps": [
        {
          "id": "docker-publish",
          "run": "$GITHUB_ACTION_PATH/entrypoint.sh",
          "shell": "bash",
          "env": {
            "INPUT_NAME": "${{ inputs.name }}",
            "INPUT_USERNAME": "${{ inputs.username }}",
            "INPUT_PASSWORD": "${{ inputs.password }}",
            "INPUT_REGISTRY": "${{ inputs.registry }}",
            "INPUT_SNAPSHOT": "${{ inputs.snapshot }}",
            "INPUT_DEFAULT_BRANCH": "${{ inputs.default_branch }}",
            "INPUT_DOCKERFILE": "${{ inputs.dockerfile }}",
            "INPUT_WORKDIR": "${{ inputs.workdir }}",
            "INPUT_CONTEXT": "${{ inputs.context }}",
            "INPUT_BUILDARGS": "${{ inputs.buildargs }}",
            "INPUT_BUILDOPTIONS": "${{ inputs.buildoptions }}",
            "INPUT_CACHE": "${{ inputs.cache }}",
            "INPUT_TAGS": "${{ inputs.tags }}",
            "INPUT_TAG_NAMES": "${{ inputs.tag_names }}",
            "INPUT_TAG_SEMVER": "${{ inputs.tag_semver }}",
            "INPUT_NO_PUSH": "${{ inputs.no_push }}",
            "INPUT_PLATFORMS": "${{ inputs.platforms }}"
          }
        }
      ]
    }
  },
  "annotations": {
    "categories": [],
    "confidence": null,
    "evidence": []
  },
  "cache": {
    "source_hash": "039e7c591feb0b6c1a895a6b3014aada51fd8a707cdcab356b69da9957e1d8d3",
    "taxonomy_version": "0.0.1",
    "prompt_version": "v1",
    "generated_at": "2025-12-14T22:40:51.822205Z"
  }
}
